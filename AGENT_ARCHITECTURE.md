# ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜ ë¬¸ì„œ

## ğŸ“‹ ê°œìš”

ì´ ì‹œìŠ¤í…œì€ LangGraphì™€ LangChainì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ, ì‚¬ìš©ì ìš”ì²­ì„ ë¶„ë¥˜í•˜ê³  ì ì ˆí•œ ì—ì´ì „íŠ¸ë¡œ ë¼ìš°íŒ…í•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FastAPI Server (src/main.py)             â”‚
â”‚  - /chat/stream: ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ                              â”‚
â”‚  - /chat: ì¼ë°˜ ì‘ë‹µ                                          â”‚
â”‚  - /chat/resume: Interrupt í›„ ì¬ê°œ                           â”‚
â”‚  - /chat/status/{thread_id}: ìƒíƒœ í™•ì¸                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Main Router (src/agents/main.py)                    â”‚
â”‚          LangGraph StateGraph                                â”‚
â”‚                                                              â”‚
â”‚  START â”€â”€[classify_request]â”€â”€>                              â”‚
â”‚           â”‚                                                   â”‚
â”‚           â”œâ”€> "it_scrum" â”€â”€> it_scrum_agent                  â”‚
â”‚           â”œâ”€> "general_scrum" â”€â”€> general_scrum_agent       â”‚
â”‚           â””â”€> "general" â”€â”€> general_agent                    â”‚
â”‚                                                              â”‚
â”‚           ê° ë…¸ë“œ ì‹¤í–‰ í›„ â”€â”€> END                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ì‘ë™ ë°©ì‹

### 1. ìš”ì²­ íë¦„

1. **ì‚¬ìš©ì ìš”ì²­ ìˆ˜ì‹ ** (`src/main.py`)
   - FastAPI ì—”ë“œí¬ì¸íŠ¸ë¡œ ìš”ì²­ ìˆ˜ì‹ 
   - Thread ID ìƒì„±/ê´€ë¦¬ (ì„¸ì…˜ ê´€ë¦¬)
   - LangGraph ê·¸ë˜í”„ ì‹¤í–‰ (ìŠ¤íŠ¸ë¦¬ë° ëª¨ë“œ: `stream_mode="debug"`)

2. **ìš”ì²­ ë¶„ë¥˜** (`src/agents/classifier.py`)
   - GPT-4o-minië¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ë©”ì‹œì§€ ë¶„ì„
   - 3ê°€ì§€ ì¤‘ í•˜ë‚˜ë¡œ ë¶„ë¥˜:
     - `"it_scrum"`: IT/ê°œë°œ ê´€ë ¨ ìŠ¤í¬ëŸ¼ ì‘ì—…
     - `"general_scrum"`: ì¼ë°˜ ìŠ¤í¬ëŸ¼ ì‘ì—…
     - `"general"`: ì¼ë°˜ ì§ˆë¬¸/ì‘ì—…
   - Pydantic ëª¨ë¸ë¡œ êµ¬ì¡°í™”ëœ ì¶œë ¥ ë³´ì¥

3. **ì—ì´ì „íŠ¸ ë¼ìš°íŒ…** (`src/agents/main.py`)
   - ë¶„ë¥˜ ê²°ê³¼ì— ë”°ë¼ ì¡°ê±´ë¶€ ì—£ì§€ë¡œ ë¼ìš°íŒ…
   - ë¶„ë¥˜ê°’ â†’ ë…¸ë“œëª… ë§¤í•‘:
     - `"it_scrum"` â†’ `"it_scrum_agent"`
     - `"general_scrum"` â†’ `"general_scrum_agent"`
     - `"general"` â†’ `"general_agent"`
   - ê° ë…¸ë“œ ì‹¤í–‰ í›„ ENDë¡œ ì¢…ë£Œ

### 2. ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬

- **Debug ëª¨ë“œ**: `stream_mode="debug"`ë¡œ ì„œë¸Œê·¸ë˜í”„ ë‚´ë¶€ ë…¸ë“œë„ ì¶”ì 
- **ì´ë²¤íŠ¸ êµ¬ì¡°**: `{step, timestamp, type, payload}`
- **ë…¸ë“œ ì—…ë°ì´íŠ¸**: ê° ë…¸ë“œ ì‹¤í–‰ ì‹œ SSEë¡œ ì‹¤ì‹œê°„ ì „ì†¡
  - ë…¸ë“œëª…, ë©”ì‹œì§€, íˆ´ í˜¸ì¶œ, íˆ´ ê²°ê³¼ ë“± í¬í•¨
- **Interrupt ì§€ì›**: ì‚¬ìš©ì ìŠ¹ì¸ì´ í•„ìš”í•œ ì§€ì ì—ì„œ ì¼ì‹œ ì¤‘ì§€
  - `__interrupt__` ë…¸ë“œë¡œ ê°ì§€
  - `/chat/resume` ì—”ë“œí¬ì¸íŠ¸ë¡œ ì¬ê°œ

## ğŸ¯ ì—ì´ì „íŠ¸ ìƒì„¸ êµ¬ì¡°

### 1. IT ìŠ¤í¬ëŸ¼ ì—ì´ì „íŠ¸ (`src/agents/scrum/it/supervisor.py`)

**êµ¬ì¡°**: LangGraph StateGraph ê¸°ë°˜ ì›Œí¬í”Œë¡œìš°

**ì›Œí¬í”Œë¡œìš°** (ìˆœì°¨ ì‹¤í–‰):
```
START
  â”‚
  â–¼
analyze_user_input (ì‚¬ìš©ì ì…ë ¥ ë¶„ì„)
  â”‚  - í”„ë¡œì íŠ¸ëª…, ê¸°ê°„, íŒ€ì›, ìš”êµ¬ì‚¬í•­ ì¶”ì¶œ
  â”‚  - ì •ë³´ ë¶€ì¡± ì‹œ interruptë¡œ ì¶”ê°€ ì •ë³´ ìš”ì²­
  â”‚
  â–¼
create_backlog (ë°±ë¡œê·¸ ìƒì„±)
  â”‚  - ìš”êµ¬ì‚¬í•­ì„ ë°±ë¡œê·¸ ì•„ì´í…œìœ¼ë¡œ ë¶„í•´
  â”‚  - ìŠ¤í† ë¦¬ í¬ì¸íŠ¸ ë° ê¸°ê°„ ì¶”ì •
  â”‚  - ì‚¬ìš©ì í™•ì¸ í›„ ì§„í–‰
  â”‚
  â–¼
create_sprints (ìŠ¤í”„ë¦°íŠ¸ ìƒì„±)
  â”‚  - ë°±ë¡œê·¸ë¥¼ ìŠ¤í”„ë¦°íŠ¸ë¡œ ë¶„ë°°
  â”‚  - ê° ìŠ¤í”„ë¦°íŠ¸ì˜ ëª©í‘œ ë° ë‚ ì§œ ì„¤ì •
  â”‚  - ì‚¬ìš©ì í™•ì¸ í›„ ì§„í–‰
  â”‚
  â–¼
generate_final_output (ìµœì¢… ê²°ê³¼ ìƒì„±)
  â”‚  - ëª¨ë“  ì •ë³´ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì¢…í•©
  â”‚
  â–¼
create_scrum (MCPë¥¼ í†µí•œ ì‹¤ì œ ì„œë¹„ìŠ¤ ì…ë ¥)
  â”‚  - ì‚¬ìš©ì ìŠ¹ì¸ í›„ MCP tool í˜¸ì¶œ
  â”‚
  â–¼
END
```

**ì£¼ìš” ê¸°ëŠ¥**:
- **Interrupt ì§€ì›**: ê° ë‹¨ê³„ì—ì„œ ì‚¬ìš©ì í™•ì¸/ìˆ˜ì • ìš”ì²­ ê°€ëŠ¥
- **State ê´€ë¦¬**: í”„ë¡œì íŠ¸ ì •ë³´, ë°±ë¡œê·¸, ìŠ¤í”„ë¦°íŠ¸ë¥¼ Stateì— ì €ì¥
- **MCP í†µí•©**: ìµœì¢… ë‹¨ê³„ì—ì„œ ì™¸ë¶€ ì„œë¹„ìŠ¤ì— ë°ì´í„° ì…ë ¥

**í•˜ìœ„ ì—ì´ì „íŠ¸**:

#### a) User Input Analyzer (`user_input_analyzer/agent.py`)
- **ì—­í• **: ì‚¬ìš©ì ì…ë ¥ì—ì„œ í”„ë¡œì íŠ¸ ì •ë³´ ì¶”ì¶œ
- **ì¶œë ¥**: `AnalysisOutput` (Pydantic ëª¨ë¸)
  - `project_name`: í”„ë¡œì íŠ¸ëª…
  - `duration`: ìŠ¤í”„ë¦°íŠ¸ ê¸°ê°„ ë˜ëŠ” íƒ€ì„ë¼ì¸
  - `team_members`: íŒ€ì› ìƒì„¸ ì •ë³´ (user_id, job, skills)
  - `requirements`: ì£¼ìš” ìš”êµ¬ì‚¬í•­ ë˜ëŠ” ì œì•½ì‚¬í•­
- **ë„êµ¬**:
  - `get_today_date`: ì˜¤ëŠ˜ ë‚ ì§œ ì¡°íšŒ (YYYY-MM-DD í˜•ì‹)
  - MCP ë„êµ¬: `get_users_job_and_skill_info` (íŒ€ì› ì •ë³´ ì¡°íšŒ, ì„ íƒì )
- **íŠ¹ì§•**: MCP ì„œë²„ê°€ ì—†ì–´ë„ ë™ì‘ ê°€ëŠ¥ (íŒ€ì› ì •ë³´ëŠ” ì‚¬ìš©ì ì…ë ¥ì—ì„œ ì§ì ‘ ì¶”ì¶œ)

#### b) Backlog Maker (`backlog_maker/agent.py`)
- **ì—­í• **: ìš”êµ¬ì‚¬í•­ì„ ë°±ë¡œê·¸ ì•„ì´í…œìœ¼ë¡œ ë¶„í•´
- **ì¶œë ¥**: `BacklogOutput` (Pydantic ëª¨ë¸)
  - `project_name`: í”„ë¡œì íŠ¸ëª…
  - `items`: `BacklogItem` ë¦¬ìŠ¤íŠ¸
    - `title`: ë°±ë¡œê·¸ ì•„ì´í…œ ì œëª©
    - `description`: ìƒì„¸ ì„¤ëª…
    - `priority`: ìš°ì„ ìˆœìœ„ (high, medium, low)
    - `estimated_effort`: ì¶”ì • ìŠ¤í† ë¦¬ í¬ì¸íŠ¸
    - `estimated_duration_days`: ì¶”ì • ê¸°ê°„ (ì¼)
    - `assigned_to`: ë‹´ë‹¹ì ì—­í•  ë˜ëŠ” íŒ€ì›
    - `order`: ìˆœì„œ/ì‹œí€€ìŠ¤ ë²ˆí˜¸ (1, 2, 3, ...)
- **ë„êµ¬**:
  - `generate_backlog_items`: ì´ˆê¸° ë°±ë¡œê·¸ êµ¬ì¡° ìƒì„±
  - `estimate_effort`: ìŠ¤í† ë¦¬ í¬ì¸íŠ¸ ì¶”ì • (1-13 ë²”ìœ„)
  - `estimate_duration`: ì‘ì—… ê¸°ê°„ ì¶”ì • (ì¼ ë‹¨ìœ„, íŒ€ í¬ê¸° ê³ ë ¤)

#### c) Sprints Maker (`sprints_maker/agent.py`)
- **ì—­í• **: ë°±ë¡œê·¸ë¥¼ ìŠ¤í”„ë¦°íŠ¸ë¡œ ë¶„ë°°
- **ì¶œë ¥**: `SprintsOutput` (Pydantic ëª¨ë¸)
  - `project_name`: í”„ë¡œì íŠ¸ëª…
  - `sprint_duration_weeks`: ê° ìŠ¤í”„ë¦°íŠ¸ ê¸°ê°„ (ì£¼)
  - `sprints`: `SprintItem` ë¦¬ìŠ¤íŠ¸
    - `sprint_number`: ìŠ¤í”„ë¦°íŠ¸ ë²ˆí˜¸ (1, 2, 3, ...)
    - `sprint_name`: ìŠ¤í”„ë¦°íŠ¸ ì´ë¦„
    - `start_date`: ì‹œì‘ì¼ (YYYY-MM-DD)
    - `end_date`: ì¢…ë£Œì¼ (YYYY-MM-DD)
    - `goal`: ìŠ¤í”„ë¦°íŠ¸ ëª©í‘œ
    - `backlog_items`: ìŠ¤í”„ë¦°íŠ¸ì— í¬í•¨ëœ ë°±ë¡œê·¸ ì•„ì´í…œ (title, order)
    - `team_capacity`: íŒ€ ìš©ëŸ‰ (ìŠ¤í† ë¦¬ í¬ì¸íŠ¸)
- **ë„êµ¬**:
  - `calculate_sprint_dates`: ìŠ¤í”„ë¦°íŠ¸ ë‚ ì§œ ê³„ì‚° (ì‹œì‘ì¼ ê¸°ì¤€)
  - `estimate_team_capacity`: íŒ€ ìš©ëŸ‰ ì¶”ì • (1ì¸ë‹¹ ì£¼ë‹¹ 6 ìŠ¤í† ë¦¬ í¬ì¸íŠ¸ ê¸°ì¤€)
  - `distribute_backlog_items`: ë°±ë¡œê·¸ ì•„ì´í…œì„ ìŠ¤í”„ë¦°íŠ¸ì— ë¶„ë°°
    - ìš°ì„ ìˆœìœ„ì™€ ì›ë˜ ìˆœì„œ ê³ ë ¤
    - íŒ€ ìš©ëŸ‰ ë‚´ì—ì„œ ë¶„ë°°

### 2. ì¼ë°˜ ìŠ¤í¬ëŸ¼ ì—ì´ì „íŠ¸ (`src/agents/scrum/general/supervisor.py`)

**êµ¬ì¡°**: ReAct íŒ¨í„´ ê¸°ë°˜ ë‹¨ì¼ Supervisor ì—ì´ì „íŠ¸

**ì‘ë™ ë°©ì‹**:
- Supervisor ì—ì´ì „íŠ¸ê°€ ë„êµ¬ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ í˜¸ì¶œ
- ë„êµ¬:
  - `analyze_user_input`: ì‚¬ìš©ì ì…ë ¥ ë¶„ì„ (í•˜ìœ„ ì—ì´ì „íŠ¸ í˜¸ì¶œ)
  - `create_backlog`: ë°±ë¡œê·¸ ìƒì„± (í•˜ìœ„ ì—ì´ì „íŠ¸ í˜¸ì¶œ)
- **ì œí•œ**: ë°±ë¡œê·¸ ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ (ìŠ¤í”„ë¦°íŠ¸ ìƒì„± ì—†ìŒ)

**í•˜ìœ„ ì—ì´ì „íŠ¸**:
- `user_input_analyzer/agent.py`: ì‚¬ìš©ì ì…ë ¥ ë¶„ì„
  - MCP ë„êµ¬ `get_users_job_and_skill_info` ì‚¬ìš©
- `backlog_maker/agent.py`: ë°±ë¡œê·¸ ìƒì„±
  - `estimate_effort` ë„êµ¬ë§Œ ì‚¬ìš© (ê¸°ê°„ ì¶”ì • ì—†ìŒ)

### 3. ì¼ë°˜ ì–´ì‹œìŠ¤í„´íŠ¸ ì—ì´ì „íŠ¸ (`src/agents/assistant/agent.py`)

**êµ¬ì¡°**: ê¸°ë³¸ LangChain ì—ì´ì „íŠ¸ (ë„êµ¬ ì—†ìŒ)
- **ëª¨ë¸**: GPT-4o
- **ì—­í• **: ì¼ë°˜ì ì¸ ì§ˆë¬¸/ëŒ€í™” ì²˜ë¦¬
- ìŠ¤í¬ëŸ¼ê³¼ ê´€ë ¨ ì—†ëŠ” ì¼ë°˜ ìš”ì²­ ì²˜ë¦¬

## ğŸ“Š State êµ¬ì¡°

### Main Router State (`src/agents/main.py`)
```python
class State(TypedDict):
    messages: Annotated[list, add_messages]  # ëŒ€í™” ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸
    request_type: str  # "scrum" or "general" (í˜„ì¬ ì‚¬ìš© ì•ˆ í•¨)
```
- `add_messages`: LangGraphì˜ ë©”ì‹œì§€ ë³‘í•© í•¨ìˆ˜
- ê° ë…¸ë“œì—ì„œ ë©”ì‹œì§€ë¥¼ ì¶”ê°€í•˜ë©´ ìë™ìœ¼ë¡œ ë³‘í•©ë¨

### IT Scrum State (`src/agents/scrum/it/supervisor.py`)
```python
class State(TypedDict, total=False):
    project_name: Optional[str]              # í”„ë¡œì íŠ¸ëª…
    duration: Optional[str]                   # í”„ë¡œì íŠ¸ ê¸°ê°„
    team_members: Optional[list[dict]]       # íŒ€ì› ì •ë³´ ë¦¬ìŠ¤íŠ¸
    requirements: Optional[str]              # ìš”êµ¬ì‚¬í•­
    backlog: Optional[list[dict]]            # ë°±ë¡œê·¸ ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸
    sprints: Optional[list[dict]]            # ìŠ¤í”„ë¦°íŠ¸ ë¦¬ìŠ¤íŠ¸
    messages: Annotated[list[AnyMessage], operator.add]  # ëŒ€í™” ë©”ì‹œì§€
    user_approved: Optional[bool]            # ì‚¬ìš©ì ìŠ¹ì¸ ì—¬ë¶€
```
- `total=False`: ëª¨ë“  í•„ë“œê°€ Optional
- `operator.add`: ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸ ë³‘í•©

## ğŸ”§ ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ

- **LangGraph**: ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
  - StateGraph: ìƒíƒœ ê¸°ë°˜ ê·¸ë˜í”„
  - MemorySaver: ì²´í¬í¬ì¸íŠ¸ ì €ì¥ (Interrupt ì§€ì›)
- **LangChain**: ì—ì´ì „íŠ¸ ë° ë„êµ¬ ê´€ë¦¬
  - `create_agent`: ReAct íŒ¨í„´ ì—ì´ì „íŠ¸ ìƒì„±
  - Tool: í•¨ìˆ˜ë¥¼ ë„êµ¬ë¡œ ë³€í™˜
- **FastAPI**: REST API ì„œë²„
  - SSE (Server-Sent Events): ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
- **OpenAI**: LLM ëª¨ë¸
  - GPT-4o: ë©”ì¸ ì—ì´ì „íŠ¸
  - GPT-4o-mini: ë¶„ë¥˜ê¸°
- **MCP (Model Context Protocol)**: ì™¸ë¶€ ì„œë¹„ìŠ¤ í†µí•©
  - `MultiServerMCPClient`: MCP ì„œë²„ í´ë¼ì´ì–¸íŠ¸
  - HTTP ìŠ¤íŠ¸ë¦¬ë° ì „ì†¡ ì§€ì›
- **Pydantic**: êµ¬ì¡°í™”ëœ ì¶œë ¥ ê²€ì¦

## ğŸ”„ Interrupt ë©”ì»¤ë‹ˆì¦˜

### ì‘ë™ ë°©ì‹
1. ì—ì´ì „íŠ¸ê°€ `interrupt(payload)` í•¨ìˆ˜ í˜¸ì¶œ
   - `payload`: ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•  ì •ë³´ (dict)
2. ê·¸ë˜í”„ ì‹¤í–‰ì´ ì¼ì‹œ ì¤‘ì§€
3. í´ë¼ì´ì–¸íŠ¸ì— interrupt ì´ë²¤íŠ¸ ì „ì†¡ (SSE)
   ```json
   {
     "event_type": "interrupt",
     "thread_id": "...",
     "next_node": "...",
     "interrupt_payload": [...],
     "message": "ì‚¬ìš©ì ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."
   }
   ```
4. ì‚¬ìš©ìê°€ `/chat/resume` ì—”ë“œí¬ì¸íŠ¸ë¡œ ì‘ë‹µ
   - `approved`: boolean ë˜ëŠ”
   - `user_response`: string (ì¶”ê°€ ì •ë³´ ì œê³µ)
5. `Command(resume=...)`ë¡œ ê·¸ë˜í”„ ì¬ê°œ
   - `interrupt()`ì˜ ë°˜í™˜ê°’ì´ `resume` ê°’ì´ ë¨

### Interrupt ë°œìƒ ì§€ì  (IT ìŠ¤í¬ëŸ¼)
1. **ì‚¬ìš©ì ì…ë ¥ ë¶„ì„ í›„** (`analyze_user_input`)
   - í”„ë¡œì íŠ¸ëª…, ê¸°ê°„, íŒ€ì›, ìš”êµ¬ì‚¬í•­ ì¤‘ í•˜ë‚˜ë¼ë„ ë¶€ì¡± ì‹œ
   - ì‚¬ìš©ìê°€ ì¶”ê°€ ì •ë³´ ì œê³µ ê°€ëŠ¥

2. **ë°±ë¡œê·¸ ìƒì„± ì „** (`create_backlog`)
   - í”„ë¡œì íŠ¸ëª… ë˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ ì—†ì„ ë•Œ í™•ì¸

3. **ë°±ë¡œê·¸ ìƒì„± í›„** (`create_backlog`)
   - ìƒì„±ëœ ë°±ë¡œê·¸ ì•„ì´í…œ ìˆ˜ì™€ ë¯¸ë¦¬ë³´ê¸° ì œê³µ
   - ì‚¬ìš©ìê°€ ìˆ˜ì • ìš”ì²­ ê°€ëŠ¥ (ì¬ìƒì„±)

4. **ìŠ¤í”„ë¦°íŠ¸ ìƒì„± ì „** (`create_sprints`)
   - ë°±ë¡œê·¸ê°€ ì—†ì„ ë•Œ í™•ì¸

5. **ìŠ¤í”„ë¦°íŠ¸ ìƒì„± í›„** (`create_sprints`)
   - ìƒì„±ëœ ìŠ¤í”„ë¦°íŠ¸ ìˆ˜ì™€ ë¯¸ë¦¬ë³´ê¸° ì œê³µ
   - ì‚¬ìš©ìê°€ ìˆ˜ì • ìš”ì²­ ê°€ëŠ¥ (ì¬ìƒì„±)

6. **ìµœì¢… ì„œë¹„ìŠ¤ ì…ë ¥ ì „** (`create_scrum`)
   - ìŠ¤í¬ëŸ¼ ë°ì´í„°ë¥¼ ì‹¤ì œ ì„œë¹„ìŠ¤ì— ì…ë ¥í•˜ê¸° ì „ ìŠ¹ì¸ ìš”ì²­

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### POST `/chat/stream`
- **ê¸°ëŠ¥**: ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ìœ¼ë¡œ ì‘ë‹µ
- **í˜•ì‹**: SSE (Server-Sent Events)
- **ìš”ì²­**: `{message: str, thread_id?: str}`
- **ì‘ë‹µ**: ì‹¤ì‹œê°„ ë…¸ë“œ ì—…ë°ì´íŠ¸ ì´ë²¤íŠ¸
  - `thread_id`: ì„¸ì…˜ ID
  - `node_update`: ë…¸ë“œ ì‹¤í–‰ ì •ë³´
  - `interrupt`: ì¤‘ë‹¨ ì´ë²¤íŠ¸
  - `[DONE]`: ì™„ë£Œ ì‹ í˜¸

### POST `/chat`
- **ê¸°ëŠ¥**: ì¼ë°˜ ë°©ì‹ìœ¼ë¡œ ì‘ë‹µ (ìŠ¤íŠ¸ë¦¬ë° ì—†ìŒ)
- **ìš”ì²­**: `{message: str, thread_id?: str}`
- **ì‘ë‹µ**: ì™„ë£Œ í›„ ì „ì²´ ê²°ê³¼
  - `thread_id`: ì„¸ì…˜ ID
  - `type`: ë©”ì‹œì§€ íƒ€ì…
  - `content`: ì‘ë‹µ ë‚´ìš©
  - `interrupted`: ì¤‘ë‹¨ ì—¬ë¶€

### POST `/chat/resume`
- **ê¸°ëŠ¥**: Interrupt í›„ ê·¸ë˜í”„ ì¬ê°œ
- **ìš”ì²­**: `{thread_id: str, approved?: bool, user_response?: str}`
- **ì‘ë‹µ**: ìŠ¤íŠ¸ë¦¬ë° (SSE)
- **ì‚¬ìš©**: ì‚¬ìš©ì ìŠ¹ì¸ ë˜ëŠ” ì¶”ê°€ ì •ë³´ ì œê³µ í›„ ì¬ê°œ

### GET `/chat/status/{thread_id}`
- **ê¸°ëŠ¥**: íŠ¹ì • threadì˜ í˜„ì¬ ìƒíƒœ í™•ì¸
- **ì‘ë‹µ**: 
  - `thread_id`: ì„¸ì…˜ ID
  - `next`: ë‹¤ìŒ ì‹¤í–‰í•  ë…¸ë“œ ë¦¬ìŠ¤íŠ¸
  - `values`: í˜„ì¬ State ê°’
  - `interrupted`: ì¤‘ë‹¨ ì—¬ë¶€

## ğŸ” ë°ì´í„° íë¦„ ì˜ˆì‹œ

### IT ìŠ¤í¬ëŸ¼ ìƒì„± ì‹œë‚˜ë¦¬ì˜¤

1. **ì‚¬ìš©ì ìš”ì²­**: `POST /chat/stream`
   ```json
   {
     "message": "ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ì¤˜",
     "thread_id": null  // ìë™ ìƒì„±
   }
   ```

2. **ë¶„ë¥˜** (`classify_request`)
   - GPT-4o-minië¡œ ë¶„ì„
   - ê²°ê³¼: `"it_scrum"`
   - ë¼ìš°íŒ…: `it_scrum_agent` ë…¸ë“œë¡œ ì´ë™

3. **ì‚¬ìš©ì ì…ë ¥ ë¶„ì„** (`analyze_user_input`)
   - User Input Analyzer ì—ì´ì „íŠ¸ ì‹¤í–‰
   - MCP ë„êµ¬ë¡œ íŒ€ì› ì •ë³´ ì¡°íšŒ (ì„ íƒì )
   - JSON ì¶”ì¶œ: `{project_name, duration, team_members, requirements}`
   - **Interrupt ê°€ëŠ¥**: ì •ë³´ ë¶€ì¡± ì‹œ ì¶”ê°€ ì •ë³´ ìš”ì²­

4. **ë°±ë¡œê·¸ ìƒì„±** (`create_backlog`)
   - Backlog Maker ì—ì´ì „íŠ¸ ì‹¤í–‰
   - ìš”êµ¬ì‚¬í•­ì„ ë°±ë¡œê·¸ ì•„ì´í…œìœ¼ë¡œ ë¶„í•´
   - ìŠ¤í† ë¦¬ í¬ì¸íŠ¸ ë° ê¸°ê°„ ì¶”ì •
   - Stateì— `backlog` ì €ì¥
   - **Interrupt ê°€ëŠ¥**: ìƒì„± í›„ ì‚¬ìš©ì í™•ì¸/ìˆ˜ì •

5. **ìŠ¤í”„ë¦°íŠ¸ ìƒì„±** (`create_sprints`)
   - Sprints Maker ì—ì´ì „íŠ¸ ì‹¤í–‰
   - ë°±ë¡œê·¸ë¥¼ ìŠ¤í”„ë¦°íŠ¸ë¡œ ë¶„ë°°
   - ê° ìŠ¤í”„ë¦°íŠ¸ì˜ ëª©í‘œ ë° ë‚ ì§œ ì„¤ì •
   - Stateì— `sprints` ì €ì¥
   - **Interrupt ê°€ëŠ¥**: ìƒì„± í›„ ì‚¬ìš©ì í™•ì¸/ìˆ˜ì •

6. **ìµœì¢… ì¶œë ¥ ìƒì„±** (`generate_final_output`)
   - ëª¨ë“  State ì •ë³´ë¥¼ JSONìœ¼ë¡œ ì¢…í•©
   - ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ í¬ë§·íŒ…
   - ë©”ì‹œì§€ë¡œ ë°˜í™˜

7. **ì„œë¹„ìŠ¤ ì…ë ¥** (`create_scrum`)
   - **Interrupt**: ì‚¬ìš©ì ìŠ¹ì¸ ìš”ì²­
   - ìŠ¹ì¸ ì‹œ MCP tool í˜¸ì¶œ
   - ìŠ¤í¬ëŸ¼ ë°ì´í„°ë¥¼ ì‹¤ì œ ì„œë¹„ìŠ¤ì— ì…ë ¥
   - ê²°ê³¼ ë©”ì‹œì§€ ë°˜í™˜

8. **ì™„ë£Œ**: `[DONE]` ì‹ í˜¸ ì „ì†¡

## ğŸ¨ ì£¼ìš” íŠ¹ì§•

1. **ë©€í‹° ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜**
   - ê° ì‘ì—…ì„ ì „ë¬¸ ì—ì´ì „íŠ¸ê°€ ì²˜ë¦¬
   - IT ìŠ¤í¬ëŸ¼: 5ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°
   - ì¼ë°˜ ìŠ¤í¬ëŸ¼: 2ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°
   - ì¼ë°˜: ë‹¨ì¼ ì—ì´ì „íŠ¸

2. **ì›Œí¬í”Œë¡œìš° ê¸°ë°˜**
   - LangGraph StateGraphë¡œ ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° ê´€ë¦¬
   - ìˆœì°¨ ì‹¤í–‰ ë³´ì¥
   - State ê¸°ë°˜ ë°ì´í„° ì „ë‹¬

3. **Interrupt ì§€ì›**
   - ì‚¬ìš©ì í™•ì¸ì´ í•„ìš”í•œ ì§€ì ì—ì„œ ì¼ì‹œ ì¤‘ì§€
   - ì‚¬ìš©ì ì‘ë‹µ í›„ ì¬ê°œ ê°€ëŠ¥
   - ì²´í¬í¬ì¸íŠ¸ë¡œ ìƒíƒœ ë³´ì¡´

4. **ìŠ¤íŠ¸ë¦¬ë°**
   - ì‹¤ì‹œê°„ìœ¼ë¡œ ì§„í–‰ ìƒí™© ì „ì†¡ (SSE)
   - ë…¸ë“œë³„ ì—…ë°ì´íŠ¸ ì¶”ì 
   - íˆ´ í˜¸ì¶œ ë° ê²°ê³¼ ì‹¤ì‹œê°„ í‘œì‹œ

5. **State ê´€ë¦¬**
   - ì²´í¬í¬ì¸íŠ¸ë¥¼ í†µí•œ ìƒíƒœ ì €ì¥ ë° ë³µêµ¬
   - Thread ID ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬
   - ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ ìœ ì§€

6. **MCP í†µí•©**
   - ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ì˜ í†µí•© ì§€ì›
   - ë™ì  ë„êµ¬ ë¡œë”©
   - HTTP ìŠ¤íŠ¸ë¦¬ë° ì „ì†¡

7. **êµ¬ì¡°í™”ëœ ì¶œë ¥**
   - Pydantic ëª¨ë¸ë¡œ ì¶œë ¥ ê²€ì¦
   - JSON íŒŒì‹± ë° ì¶”ì¶œ
   - íƒ€ì… ì•ˆì •ì„± ë³´ì¥

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
src/agents/
â”œâ”€â”€ main.py                    # ë©”ì¸ ë¼ìš°í„° (LangGraph)
â”œâ”€â”€ classifier.py              # ìš”ì²­ ë¶„ë¥˜ê¸°
â”œâ”€â”€ assistant/
â”‚   â””â”€â”€ agent.py              # ì¼ë°˜ ì–´ì‹œìŠ¤í„´íŠ¸
â””â”€â”€ scrum/
    â”œâ”€â”€ __init__.py           # ì—ì´ì „íŠ¸ export
    â”œâ”€â”€ it/                   # IT ìŠ¤í¬ëŸ¼
    â”‚   â”œâ”€â”€ supervisor.py     # ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
    â”‚   â”œâ”€â”€ user_input_analyzer/
    â”‚   â”‚   â””â”€â”€ agent.py     # ì‚¬ìš©ì ì…ë ¥ ë¶„ì„
    â”‚   â”œâ”€â”€ backlog_maker/
    â”‚   â”‚   â””â”€â”€ agent.py     # ë°±ë¡œê·¸ ìƒì„±
    â”‚   â””â”€â”€ sprints_maker/
    â”‚       â””â”€â”€ agent.py     # ìŠ¤í”„ë¦°íŠ¸ ìƒì„±
    â””â”€â”€ general/              # ì¼ë°˜ ìŠ¤í¬ëŸ¼
        â”œâ”€â”€ supervisor.py     # Supervisor ì—ì´ì „íŠ¸
        â”œâ”€â”€ user_input_analyzer/
        â”‚   â””â”€â”€ agent.py     # ì‚¬ìš©ì ì…ë ¥ ë¶„ì„
        â””â”€â”€ backlog_maker/
            â””â”€â”€ agent.py     # ë°±ë¡œê·¸ ìƒì„±
```

